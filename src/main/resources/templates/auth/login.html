<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>ë¡œê·¸ì¸ | ë”ì¿ ì¿ </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
        :root{
            --bg:#f6f7fb;
            --card:#ffffff;
            --text:#111827;
            --sub:#6b7280;
            --line:#e5e7eb;

            --brand:#ff4fa0;           /* ë”ì¿ ì¿  í•‘í¬ í¬ì¸íŠ¸ */
            --brand-soft:#fff0f7;

            --btn:#111827;             /* ê²€ì • ë¡œê·¸ì¸ ë²„íŠ¼ */
            --btn-hover:#0b1220;

            --naver:#03C75A;

            --danger-bg:#fee2e2;
            --danger:#b91c1c;

            --ok-bg:#d1fae5;
            --ok:#065f46;

            --shadow: 0 20px 60px rgba(17, 24, 39, .10);
            --radius: 18px;
        }

        *{box-sizing:border-box;}
        body{
            margin:0;
            background:var(--bg);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
            color:var(--text);
        }

        .page{
            min-height:100vh;
            display:flex;
            align-items:flex-start;
            justify-content:center;
            padding:42px 16px;
        }

        .wrap{
            width:420px;
            max-width:100%;
            text-align:center;
        }

        .top-link{
            display:inline-flex;
            align-items:center;
            gap:8px;
            color:var(--sub);
            text-decoration:none;
            font-size:13px;
            margin-bottom:14px;
        }

        .brand{
            display:flex;
            flex-direction:column;
            align-items:center;
            gap:10px;
            margin-bottom:16px;
        }

        .logo-badge{
            width:56px;
            height:56px;
            border-radius:14px;
            background: var(--brand-soft);
            border:1px solid rgba(255,79,160,.25);
            display:flex;
            align-items:center;
            justify-content:center;
            font-weight:900;
            color:var(--brand);
            letter-spacing:.04em;
            user-select:none;
        }

        .headline{
            font-size:18px;
            font-weight:800;
            margin:0;
        }

        .subtitle{
            margin:6px 0 0;
            font-size:13px;
            color:var(--sub);
        }

        .card{
            margin-top:16px;
            background:var(--card);
            border:1px solid var(--line);
            border-radius:var(--radius);
            box-shadow:var(--shadow);
            padding:22px 22px 18px;
            text-align:left;
        }

        .alert{
            border-radius:14px;
            padding:12px 12px;
            font-size:13px;
            margin-bottom:12px;
            font-weight:700;
            text-align:center;
        }
        .alert-danger{ background:var(--danger-bg); color:var(--danger); }
        .alert-ok{ background:var(--ok-bg); color:var(--ok); }
        .alert-info{ background:#e0e7ff; color:#3730a3; }

        .verify-box{
            display:flex;
            gap:10px;
            align-items:flex-start;
            border:1px solid rgba(255,79,160,.25);
            background: var(--brand-soft);
            border-radius:14px;
            padding:12px 12px;
            margin-bottom:12px;
        }
        .verify-dot{
            width:28px; height:28px;
            border-radius:50%;
            background: rgba(255,79,160,.18);
            display:flex; align-items:center; justify-content:center;
            color:var(--brand);
            font-weight:900;
            flex:0 0 28px;
            margin-top:2px;
        }
        .verify-text{
            font-size:13px;
            color:#9b1c6d;
            line-height:1.45;
            flex:1;
        }
        .verify-text a{
            color:#7a0f52;
            font-weight:900;
            text-decoration:underline;
        }

        .field{
            margin-top:12px;
        }
        .label{
            font-size:12px;
            font-weight:800;
            color:#374151;
            margin-bottom:6px;
            display:block;
        }
        .input{
            width:100%;
            height:44px;
            border:1px solid var(--line);
            border-radius:12px;
            padding:0 12px;
            font-size:14px;
            outline:none;
            transition:.15s;
            background:#fff;
        }
        .input:focus{
            border-color: rgba(255,79,160,.7);
            box-shadow: 0 0 0 4px rgba(255,79,160,.12);
        }

        .btn{
            width:100%;
            height:46px;
            border-radius:14px;
            border:none;
            cursor:pointer;
            font-weight:900;
            font-size:14px;
            display:flex;
            align-items:center;
            justify-content:center;
            gap:8px;
            transition:.12s;
        }
        .btn-primary{
            margin-top:14px;
            background:var(--btn);
            color:#fff;
        }
        .btn-primary:hover{ background:var(--btn-hover); transform: translateY(-1px); }
        .btn-primary:active{ transform: translateY(0); }

        .divider{
            display:flex;
            align-items:center;
            gap:12px;
            margin:14px 0;
            color:var(--sub);
            font-size:12px;
        }
        .divider::before,.divider::after{
            content:"";
            height:1px;
            background:var(--line);
            flex:1;
        }

        .btn-naver{
            background:var(--naver);
            color:#fff;
        }
        .btn-naver:hover{ filter:brightness(.96); transform: translateY(-1px); }
        .btn-naver:active{ transform: translateY(0); }

        .naver-icon{
            width:18px; height:18px;
            border-radius:4px;
            background:#fff;
            display:inline-flex;
            align-items:center;
            justify-content:center;
            font-size:12px;
            font-weight:900;
            color:var(--naver);
        }

        .links{
            margin-top:14px;
            text-align:center;
            font-size:12px;
            color:var(--sub);
        }
        .links a{
            color:#374151;
            font-weight:800;
            text-decoration:none;
        }
        .links a:hover{ text-decoration:underline; }
        .links .sep{ color:#c4c7cf; margin:0 8px; }

        .foot{
            text-align:center;
            margin-top:14px;
            font-size:12px;
            color:#9ca3af;
        }
    </style>
</head>

<body>
<div class="page">
    <div class="wrap">

        <a class="top-link" th:href="@{/}">
            â† í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
        </a>

        <div class="brand">
            <div class="logo-badge">TK</div>
            <div>
                <p class="headline">ë”ì¿ ì¿ ì— ì˜¤ì‹  ê±¸ í™˜ì˜í•©ë‹ˆë‹¤ âœ¨</p>
                <p class="subtitle">ì• ë‹ˆ ë•í›„ë“¤ì˜ ì²œêµ­, êµ¿ì¦ˆ ê±°ë˜/íƒìƒ‰ì„ ë” í¸í•˜ê²Œ</p>
            </div>
        </div>

        <div class="card">

            <!-- âœ… ì—ëŸ¬ ë©”ì‹œì§€: controllerë§ˆë‹¤ í‚¤ê°€ ë‹¬ë¼ì„œ ì „ë¶€ ë°›ìŒ -->
            <div th:if="${errorMessage}" class="alert alert-danger">
                <span th:text="${errorMessage}"></span>
            </div>
            <div th:if="${error}" class="alert alert-danger">
                <span th:text="${error}"></span>
            </div>
            <div th:if="${msg}" class="alert alert-danger">
                <span th:text="${msg}"></span>
            </div>

            <!-- âœ… ì´ë©”ì¼ ë¯¸ì¸ì¦ -->
            <div th:if="${emailNotVerified}" class="verify-box">
                <div class="verify-dot">!</div>
                <div class="verify-text">
                    ì´ë©”ì¼ ì¸ì¦ì„ ì™„ë£Œí•´ì•¼ ë¡œê·¸ì¸í•  ìˆ˜ ìˆì–´ìš”.<br/>
                    <a th:href="@{/auth/verify(email=${email})}">ì´ë©”ì¼ ì¸ì¦í•˜ëŸ¬ ê°€ê¸°</a>
                </div>
            </div>

            <!-- âœ… íšŒì›ê°€ì… ì„±ê³µ -->
            <div th:if="${joinSuccess}" class="alert alert-ok">
                <span th:text="${joinSuccess}"></span>
            </div>

            <!-- âœ… ë¹„ë²ˆ ë³€ê²½ ì•ˆë‚´ -->
            <div th:if="${param.passwordChanged}" class="alert alert-info">
                ğŸ” ë¹„ë°€ë²ˆí˜¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.
            </div>

            <form th:action="@{/auth/login}" method="post">
                <div class="field">
                    <label class="label">ì•„ì´ë””</label>
                    <input class="input" type="text" name="loginId" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”" autocomplete="username">
                </div>

                <div class="field">
                    <label class="label">ë¹„ë°€ë²ˆí˜¸</label>
                    <input class="input" type="password" name="loginPw" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" autocomplete="current-password">
                </div>

                <button class="btn btn-primary" type="submit">ë¡œê·¸ì¸</button>
            </form>

            <div class="links">
                <a th:href="@{/auth/join}">íšŒì›ê°€ì…</a>
                <span class="sep">|</span>
                <a th:href="@{/auth/find_id}">ì•„ì´ë”” ì°¾ê¸°</a>
                <span class="sep">|</span>
                <a th:href="@{/auth/find_pw}">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</a>
            </div>

            <div class="divider">ë˜ëŠ”</div>

            <!-- âœ… ë„¤ì´ë²„ ë¡œê·¸ì¸ ìœ ì§€ -->
            <a class="btn btn-naver" th:href="@{/oauth2/authorization/naver}" style="text-decoration:none;">
                <span class="naver-icon">N</span>
                ë„¤ì´ë²„ë¡œ ë¡œê·¸ì¸
            </a>

        </div>

        <div class="foot">Â© 2024 THE KUKU. All rights reserved.</div>
    </div>
</div>
</body>
</html>