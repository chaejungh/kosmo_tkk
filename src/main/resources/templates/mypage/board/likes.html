<!-- src/main/resources/templates/mypage/likes.html -->
<!DOCTYPE html>
<html lang="ko"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/fragments/mypage_fragment/layout}">

<head>
    <th:block layout:fragment="head">
        <style>
            /* ✅ 이 페이지(좋아요)만 마이페이지 메인급 폭으로 */
            .mypage-like-wrap{
                width: min(1100px, 92vw);
                margin: 0 auto;
                padding: 28px 16px 80px;
            }
            .mypage-like-wrap .mp-panel{
                width: 100%;
                max-width: 100%;
            }
        </style>
    </th:block>
</head>

<body>
<div layout:fragment="content">

    <!-- ✅ 폭 키우는 래퍼만 추가 (기능 영향 X) -->
    <div class="mypage-like-wrap">

        <section class="mp-panel">
            <div class="mp-panel-head">
                <div>
                    <h3 class="mp-title">❤️ 좋아요 한 글</h3>
                    <p class="mp-sub">내가 좋아요 누른 게시글 목록이에요</p>
                </div>
            </div>

            <div class="mp-panel-body">

                <div class="mp-empty"
                     th:if="${boardLikes == null or boardLikes.totalElements == 0}">
                    아직 좋아요 한 글이 없어요 🙂
                </div>

                <div class="mp-list"
                     th:if="${boardLikes != null and boardLikes.totalElements > 0}">

                    <a class="mp-item"
                       th:each="like : ${boardLikes.content}"
                       th:href="@{'/board/' + ${memberId} + '/article/' + ${like.post.id} + '/detail.do'}">

                        <div class="mp-item-title" th:text="${like.post.title}">게시글 제목</div>

                        <div class="mp-item-meta">
                            <span th:text="${like.post.category.name}">카테고리</span>
                            <span class="dot">·</span>
                            <span th:text="${#temporals.format(like.post.createdAt, 'yyyy.MM.dd')}">2025.01.01</span>
                        </div>
                    </a>

                </div>

                <div class="mp-pagination"
                     th:if="${boardLikes != null and boardLikes.totalPages > 1}">

                    <a class="pg-btn"
                       th:classappend="${boardLikes.first} ? ' disabled' : ''"
                       th:href="@{/mypage/{memberId}/likes(memberId=${memberId}, page=${boardLikes.number-1})}">
                        이전
                    </a>

                    <a class="pg-num"
                       th:each="p : ${#numbers.sequence(0, boardLikes.totalPages-1)}"
                       th:text="${p+1}"
                       th:classappend="${p == boardLikes.number} ? ' active' : ''"
                       th:href="@{/mypage/{memberId}/likes(memberId=${memberId}, page=${p})}">
                    </a>

                    <a class="pg-btn"
                       th:classappend="${boardLikes.last} ? ' disabled' : ''"
                       th:href="@{/mypage/{memberId}/likes(memberId=${memberId}, page=${boardLikes.number+1})}">
                        다음
                    </a>
                </div>

            </div>
        </section>

    </div>
</div>
</body>
</html>